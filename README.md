# Digio_Test_XO

‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏Å‡∏° XO ‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏î‡πâ  
- ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏ô‡∏≤‡∏î‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà **3√ó3 ‡∏ñ‡∏∂‡∏á 15√ó15**  
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏±‡πâ‡∏á **PVP (‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô vs ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô)** ‡πÅ‡∏•‡∏∞ **PVE (‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô vs Bot AI)**  
- ‡∏°‡∏µ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å‡∏Ç‡∏≠‡∏á AI 3 ‡∏£‡∏∞‡∏î‡∏±‡∏ö: **EASY / NORMAL / HARD** (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÇ‡∏´‡∏°‡∏î PVE)  
- ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏π **‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô (Game History)** ‡πÅ‡∏•‡∏∞ **‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏°‡∏≤‡∏Å‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ï‡∏≤ (Replay History)** ‡πÑ‡∏î‡πâ  
- ‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏Å‡∏≤‡∏£‡∏ä‡∏ô‡∏∞ (Winning Line) ‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô  

---

## ‡∏ß‡∏¥‡∏ò‡∏µ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°

### üóÇÔ∏è ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏•‡∏≤‡∏™‡πÅ‡∏•‡∏∞‡πÅ‡∏≠‡∏ï‡∏ó‡∏£‡∏¥‡∏ö‡∏¥‡∏ß‡∏ï‡πå

‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• 3 ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏Å:  

1. **games** ‚Üí ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡∏° XO  
2. **histories** ‚Üí ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏°‡∏≤‡∏Å‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ï‡∏≤  
3. **positions** ‚Üí ‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ä‡∏ô‡∏∞‡∏ö‡∏ô‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô  

üìå [‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á]

### ‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏≤‡∏£‡∏≤‡∏á: `games`

| ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå | ‡∏ä‡∏ô‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• | ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç | ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ | ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• |
|----------|------------|----------|-----------|-----------|
| gameId | INT | PK | ‡∏£‡∏´‡∏±‡∏™‡πÄ‡∏Å‡∏° | 1 |
| tableSize | INT | NN | ‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á (‡πÄ‡∏ä‡πà‡∏ô 3, 5, 7 ‚Ä¶) | 5 |
| winNum | INT | NN | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡∏ô‡∏∞ | 4 |
| gameStatus | VARCHAR(50) | NN | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏Å‡∏° ‡πÄ‡∏ä‡πà‡∏ô `IN_PROGRESS`, `FINISHED`, `HUMAN_VS_BOT`, `HUMAN_VS_HUMAN` | IN_PROGRESS |
| playerX | VARCHAR(100) | NN | ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ù‡∏±‡πà‡∏á X | Player |
| playerO | VARCHAR(100) | NN | ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ù‡∏±‡πà‡∏á O | Bot |
| endResult | VARCHAR(50) | NN | ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå ‡πÄ‡∏ä‡πà‡∏ô `X_WIN`, `O_WIN`, `DRAW` | DRAW |
| winText | VARCHAR(1) | NULL | ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞ (X/O) | X |
| bot_difficulty | VARCHAR(50) | NULL | ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ö‡∏≠‡∏ó (EASY / NORMAL / HARD) | NORMAL |
| play_date | CALENDER | NULL | ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏° | 2025-10-04 |
| first_turn | VARCHAR(1) | NN, DEFAULT X | ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡πà‡∏≠‡∏ô (X ‡∏´‡∏£‡∏∑‡∏≠ O) | X |

---

### ‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏≤‡∏£‡∏≤‡∏á: `histories`

| ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå | ‡∏ä‡∏ô‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• | ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç | ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ | ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• |
|----------|------------|----------|-----------|-----------|
| history_id | INT | PK | ‡∏£‡∏´‡∏±‡∏™‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô | 10 |
| game_id | INT | FK | ‡∏£‡∏´‡∏±‡∏™‡πÄ‡∏Å‡∏° | 1 |
| turn_num | INT | NN | ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏ï‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏•‡πà‡∏ô (1, 2, ‚Ä¶) | 3 |
| `col` | INT | NN | ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏ó‡∏µ‡πà‡∏•‡∏á | 2 |
| `row` | INT | NN | ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏ñ‡∏ß‡∏ó‡∏µ‡πà‡∏•‡∏á | 3 |
| position_id | INT | FK | ‡∏£‡∏´‡∏±‡∏™‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á | 7 |
| text | VARCHAR(1) | NN | ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏ó‡∏µ‡πà‡∏•‡∏á (X ‡∏´‡∏£‡∏∑‡∏≠ O) | X |

---

### ‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏≤‡∏£‡∏≤‡∏á: `positions`

| ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå | ‡∏ä‡∏ô‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• | ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç | ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ | ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• |
|----------|------------|----------|-----------|-----------|
| position_id | INT | PK, AI | ‡∏£‡∏´‡∏±‡∏™‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ä‡∏ô‡∏∞ | 7 |
| game_id | INT | FK | ‡∏£‡∏´‡∏±‡∏™‡πÄ‡∏Å‡∏° | 1 |
| `col` | INT | NN | ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏ó‡∏µ‡πà‡∏ä‡∏ô‡∏∞ | 2 |
| `row` | INT | NN | ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏ñ‡∏ß‡∏ó‡∏µ‡πà‡∏ä‡∏ô‡∏∞ | 3 |

---
## ‚öôÔ∏è ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå

‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ô‡∏µ‡πâ‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ **Backend (Spring Boot)** ‡πÅ‡∏•‡∏∞ **Frontend (React)**  
‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ô‡∏ú‡πà‡∏≤‡∏ô REST API  

### üìå Backend ‚Äì Spring Boot
‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡πÄ‡∏Å‡∏° XO ‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏±‡∏ö‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•  

**Dependencies ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ**
- **Spring Web** ‚Üí ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á REST API ‡πÅ‡∏•‡∏∞‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏Å‡∏±‡∏ö Frontend  
- **Spring Data JPA** ‚Üí ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ ORM ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Å‡∏±‡∏ö‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏•‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô SQL  
- **MySQL Driver** ‚Üí ‡πÉ‡∏ä‡πâ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• MySQL  
- **Lombok** ‚Üí ‡∏•‡∏î boilerplate code (Getter / Setter / Constructor)  

### üìå Frontend ‚Äì React
‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÄ‡∏Å‡∏° XO ‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö UI ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢  

**Libraries ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ**
- **React Router** ‚Üí ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡∏ó‡∏≤‡∏á ‡πÄ‡∏ä‡πà‡∏ô `HomePage`, `HistoryPage`, `ReplayPage`, `PvpPage`, `PvePage`  
- **Axios** ‚Üí ‡πÉ‡∏ä‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å REST API ‡∏à‡∏≤‡∏Å Backend  
- **Express (BFF - Backend For Frontend)** ‚Üí ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏Å‡∏•‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á React ‡πÅ‡∏•‡∏∞ Spring Boot API  

---

## üöÄ ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö

‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏Ç‡∏≠‡∏á‡πÄ‡∏Å‡∏° XO (‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏ô‡∏à‡∏ö)

1) **‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°**
   - ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÑ‡∏î‡πâ 3 ‡∏≠‡∏¢‡πà‡∏≤‡∏á:
     - **‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á** ‡πÄ‡∏ä‡πà‡∏ô 3√ó3, 5√ó5
     - **‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡∏ô‡∏∞ (‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á 4√ó4, 5√ó5)**   
     - **‡πÇ‡∏´‡∏°‡∏î** (‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô vs ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô ‡∏´‡∏£‡∏∑‡∏≠ ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô vs Bot )
     - **‡∏ñ‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏•‡πà‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô** vs Bot ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö (EASY / NORMAL / HARD)
   - ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏Å‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏™‡πà‡∏á‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°
   - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏Ç‡∏≠‡∏á‡πÄ‡∏Å‡∏°‡∏Ñ‡∏∑‡∏≠ `‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£`

2) **‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏°‡∏≤‡∏Å**
   - ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á (‡πÅ‡∏ñ‡∏ß, ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå) ‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡∏´‡∏°‡∏≤‡∏Å (X ‡∏´‡∏£‡∏∑‡∏≠ O)
   - ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‡πÄ‡∏ä‡πà‡∏ô ‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á, ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ï‡∏≤‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

3) **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå**
   - ‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ï‡∏£‡∏ß‡∏à:
     - ‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Ñ‡∏£‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
     - ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô‡πÄ‡∏ï‡πá‡∏°‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
   - ‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞ ‚Üí ‡∏£‡∏∞‡∏ö‡∏∏‡∏ß‡πà‡∏≤ `‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞ X` ‡∏´‡∏£‡∏∑‡∏≠ `‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞ O`  
   - ‡∏´‡∏≤‡∏Å‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô‡πÄ‡∏ï‡πá‡∏°‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞ ‚Üí ‡∏£‡∏∞‡∏ö‡∏∏‡∏ß‡πà‡∏≤ `‡πÄ‡∏™‡∏°‡∏≠`

4) **‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡πÄ‡∏Å‡∏° ‚Üí ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•**
   - ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡∏°‡∏à‡∏ö ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∂‡∏á‡∏à‡∏∞:
     - ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å `‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°` ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
     - ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å `‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏°‡∏≤‡∏Å‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ï‡∏≤` ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Ç‡∏≠‡∏á‡πÄ‡∏Å‡∏°‡∏ô‡∏±‡πâ‡∏ô
     - ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å `‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ä‡∏ô‡∏∞` ‡∏ñ‡πâ‡∏≤‡πÄ‡∏™‡∏°‡∏≠‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å

5) **‡∏î‡∏π‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á / Replay**
   - ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏î‡∏π **‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏°‡∏≤‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î** 
   - ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• `‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏°‡∏≤‡∏Å‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ï‡∏≤` ‡πÅ‡∏•‡∏∞ `‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ä‡∏ô‡∏∞` ‡πÉ‡∏´‡πâ Frontend ‡∏ô‡∏≥‡πÑ‡∏õ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡πá‡∏ô Replay
   - ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏™‡πà‡∏á‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏ä‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏ä‡∏ô‡∏∞‡πÑ‡∏õ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÑ‡∏Æ‡πÑ‡∏•‡∏ï‡πå‡πÄ‡∏™‡πâ‡∏ô‡∏ä‡∏ô‡∏∞

---

## üß† ‡∏≠‡∏±‡∏•‡∏Å‡∏≠‡∏£‡∏¥‡∏ó‡∏∂‡∏°‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏ö‡∏≠‡∏ó

‡∏ö‡∏≠‡∏ó‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≤‡πÄ‡∏î‡∏¥‡∏ô‡∏à‡∏≤‡∏Å 2 ‡πÅ‡∏Å‡∏ô‡∏´‡∏•‡∏±‡∏Å:
1) **Soft-Block: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô ‚Äú‡∏à‡∏∏‡∏î‡∏ï‡∏±‡∏î‚Äù ‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î**  
2) **Probabilistic Weight: ‡πÉ‡∏´‡πâ ‚Äú‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‚Äù ‡∏Å‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î**

‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡∏õ‡∏£‡∏±‡∏ö‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏ï‡∏≤‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ö‡∏≠‡∏ó (EASY / NORMAL / HARD) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡∏±‡πà‡∏á‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å ‚Äú‡∏ö‡∏∏‡∏Å vs ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‚Äù ‡πÉ‡∏´‡πâ‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô

---

### 1) Soft-Block: ‡∏´‡∏≤‡∏à‡∏∏‡∏î‡∏ï‡∏±‡∏î‡∏ó‡∏µ‡πà‡∏ï‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î

‡πÑ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢: ‡∏™‡πÑ‡∏•‡∏î‡πå ‚Äú‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡∏ï‡∏≤‡∏£‡∏≤‡∏á L‚Äù ‡πÑ‡∏õ‡∏ï‡∏≤‡∏° 4 ‡∏ó‡∏¥‡∏® (‚Üí ‚Üì ‚Üò ‚Üó) ‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏±‡∏ö‡∏ß‡πà‡∏≤‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡πÑ‡∏´‡∏ô‡∏ñ‡∏π‡∏Å ‚Äú‡∏ä‡πà‡∏≠‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÑ‡∏´‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏±‡∏î‡∏Å‡∏±‡∏ô‚Äù ‡∏ó‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡∏Å‡∏µ‡πà‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡∏¢‡∏¥‡πà‡∏á‡∏ã‡πâ‡∏≠‡∏ô‡∏°‡∏≤‡∏Å ‚Üí ‡∏¢‡∏¥‡πà‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç

**‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á (‡∏ï‡∏±‡∏ß‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ó‡∏µ‡πà‡∏ä‡∏ô‡∏∞ K):**
- `K ‚â§ 3` ‚Üí ‡πÉ‡∏ä‡πâ `L = 3`, ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏£‡∏ì‡∏µ **2-in-3** (‡∏Ñ‡∏π‡πà‡πÅ‡∏Ç‡πà‡∏á‡∏ß‡∏≤‡∏á‡πÑ‡∏î‡πâ 2 ‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏¢‡∏≤‡∏ß 3 ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏£‡∏≤‡∏Ñ‡∏±‡πà‡∏ô)
- `K = 4` ‚Üí ‡πÉ‡∏ä‡πâ `L = 4`, ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏£‡∏ì‡∏µ **2-in-4** 
- `K ‚â• 5` ‚Üí ‡πÉ‡∏ä‡πâ `L = 5`, ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏£‡∏ì‡∏µ **3-in-5**

**‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô:**
1. ‡∏ß‡∏ô‡∏ó‡∏∏‡∏Å‡∏ó‡∏¥‡∏® `DIRS = [(0,1),(1,0),(1,1),(1,-1)]`
2. ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏à‡∏∏‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏° `(sr,sc)` ‡∏™‡πÑ‡∏•‡∏î‡πå‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏¢‡∏≤‡∏ß `L` ‡∏ñ‡πâ‡∏≤‡∏û‡πâ‡∏ô‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≤‡∏°
3. ‡∏ô‡∏±‡∏ö‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á:
   - `cntSym` = ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏´‡∏°‡∏≤‡∏Å‡∏Ç‡∏≠‡∏á **‡∏ù‡∏±‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô** (‡∏°‡∏ô‡∏∏‡∏©‡∏¢‡πå)
   - `cntOpp` = ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏´‡∏°‡∏≤‡∏Å‡∏Ç‡∏≠‡∏á **‡πÄ‡∏£‡∏≤** (‡∏Ñ‡∏±‡πà‡∏ô/‡∏ó‡∏≥‡∏•‡∏≤‡∏¢‡∏®‡∏±‡∏Å‡∏¢‡∏†‡∏≤‡∏û)
   - `blanks` = ‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á
4. ‡∏ñ‡πâ‡∏≤ `cntOpp > 0` ‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏ô‡∏µ‡πâ‡πÇ‡∏î‡∏ô‡πÄ‡∏£‡∏≤‡∏Ñ‡∏±‡πà‡∏ô ‚Üí **‡πÑ‡∏°‡πà‡∏ô‡∏±‡∏ö**
5. ‡∏ñ‡πâ‡∏≤ `cntSym == required` (‡∏ï‡∏≤‡∏°‡∏Å‡∏é‡∏Ç‡πâ‡∏≤‡∏á‡∏ö‡∏ô) ‚Üí ‡πÉ‡∏´‡πâ‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï **‡∏ó‡∏∏‡∏Å‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á** ‡πÉ‡∏ô `blanks` (‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏ô‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ä‡πà‡∏≠‡∏á)
6. ‡∏´‡∏•‡∏±‡∏á‡∏ß‡∏ô‡∏Ñ‡∏£‡∏ö ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ **‡∏ï‡∏±‡∏ß‡∏ô‡∏±‡∏ö‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (count ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î)**  
   ‡∏ñ‡πâ‡∏≤‡πÄ‡∏™‡∏°‡∏≠‡∏Å‡∏±‡∏ô ‚Üí **tie-break ‡πÇ‡∏î‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏Å‡∏•‡πâ‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á** (‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏î‡πâ‡∏ß‡∏¢ `d2(r,c) = (r-mid)^2 + (c-mid)^2` ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡πà‡∏≤‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤)

> ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢ ‚Äú‡∏à‡∏∏‡∏î‡∏ï‡∏±‡∏î‚Äù: ‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡∏Å‡∏±‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡πÄ‡∏™‡πâ‡∏ô ‚Äú‡∏ó‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‚Äù ‡∏Å‡∏±‡∏ô ‡∏¢‡∏¥‡πà‡∏á‡∏ó‡∏±‡∏ö‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡∏Å ‚Üí ‡∏ñ‡πâ‡∏≤‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏Ñ‡∏π‡πà‡πÅ‡∏Ç‡πà‡∏á‡∏•‡∏á‡∏ï‡∏£‡∏á‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏∞‡∏°‡∏µ ‚Äú‡∏´‡∏•‡∏≤‡∏¢‡∏ß‡∏¥‡∏ò‡∏µ‚Äù ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏™‡πâ‡∏ô‡∏ä‡∏ô‡∏∞‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï

**‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (‡∏Ñ‡∏£‡πà‡∏≤‡∏ß‡πÜ):**  
`O(4 * N^2 * L)` ‡∏ï‡πà‡∏≠‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏™‡πÅ‡∏Å‡∏ô (L ‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡∏ô‡πâ‡∏≠‡∏¢ ‡πÄ‡∏ä‡πà‡∏ô 3‚Äì5) ‚Üí ‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï‡∏´‡∏•‡∏±‡∏Å ‡πÜ ‡∏ï‡∏≤‡∏° `N^2` ‡∏Ç‡∏≠‡∏á‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô

---

### 2) Probabilistic Weighting: ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡∏ó‡∏∏‡∏Å‡∏ä‡πà‡∏≠‡∏á

‡πÑ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢: ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö **‡∏ó‡∏∏‡∏Å‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á** `(r,c)` ‡πÉ‡∏´‡πâ‡∏•‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô ‚Äú‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‚Äù ‡πÇ‡∏î‡∏¢‡∏°‡∏≠‡∏á‡∏ú‡πà‡∏≤‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏¢‡∏≤‡∏ß `K` ‡∏ó‡∏∏‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà **‡∏Ñ‡∏£‡∏≠‡∏ö‡∏à‡∏∏‡∏î (r,c)** ‡∏≠‡∏¢‡∏π‡πà

**‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô (‡∏ï‡πà‡∏≠‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á):**
- ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏´‡∏°‡∏≤‡∏Å‡∏ó‡∏±‡πâ‡∏á‡πÄ‡∏£‡∏≤‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô ‚Üí **‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÉ‡∏ä‡πâ‡∏ï‡πà‡∏≠‡πÄ‡∏™‡πâ‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ** ‚Üí ‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
- ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡πÅ‡∏ï‡πà **‡πÄ‡∏£‡∏≤** (`cntSelf > 0, cntOpp = 0`) ‚Üí **‡πÅ‡∏ï‡πâ‡∏°‡πÄ‡∏ä‡∏¥‡∏á‡∏£‡∏∏‡∏Å**
  - ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô `w = 1 + (cntSelf / K)`
  - ‡∏ñ‡πâ‡∏≤‡πÄ‡∏£‡∏≤ ‚Äú‡∏à‡πà‡∏≠‡∏ä‡∏ô‡∏∞‚Äù (`cntSelf === K-1`) ‚Üí ‡πÉ‡∏™‡πà **nearWinOffBonus**
  - ‡∏Ñ‡∏π‡∏ì‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏£‡∏∏‡∏Å‡∏ï‡∏≤‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö `attackW`
- ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡πÅ‡∏ï‡πà **‡πÄ‡∏Ç‡∏≤** (`cntOpp > 0, cntSelf = 0`) ‚Üí **‡πÅ‡∏ï‡πâ‡∏°‡πÄ‡∏ä‡∏¥‡∏á‡∏£‡∏±‡∏ö**
  - ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô `w = 1 + (cntOpp / K)`
  - ‡∏ñ‡πâ‡∏≤‡πÄ‡∏Ç‡∏≤ ‚Äú‡∏à‡πà‡∏≠‡∏ä‡∏ô‡∏∞‚Äù (`cntOpp === K-1`) ‚Üí ‡πÉ‡∏™‡πà **nearLossDefBonus**
  - ‡∏Ñ‡∏π‡∏ì‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏£‡∏±‡∏ö‡∏ï‡∏≤‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö `defenseW`
- ‡∏ñ‡πâ‡∏≤ **‡∏ß‡πà‡∏≤‡∏á‡∏•‡πâ‡∏ß‡∏ô** ‚Üí ‡πÉ‡∏™‡πà‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏û‡∏∑‡πâ‡∏ô `neutral`

**Center Bonus (‡∏ä‡∏≠‡∏ö‡∏Å‡∏•‡∏≤‡∏á‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô):**  
‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏ö‡∏ô‡∏±‡∏™  
\[
\text{centerBonus} = \frac{\text{centerBias}}{1 + \sqrt{d2(r,c)}} \quad\text{‡πÇ‡∏î‡∏¢}\ d2(r,c)=(r-mid)^2+(c-mid)^2
\]  
‡∏¢‡∏¥‡πà‡∏á‡πÉ‡∏Å‡∏•‡πâ‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á ‚Üí ‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô

**Jitter (‡∏™‡∏∏‡πà‡∏°‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡πÉ‡∏´‡πâ‡∏î‡∏π‡πÑ‡∏°‡πà‡πÅ‡∏Ç‡πá‡∏á‡∏ó‡∏∑‡πà‡∏≠):**  
- ‡πÇ‡∏´‡∏°‡∏î EASY/NORMAL ‡∏≠‡∏≤‡∏à‡∏™‡∏∏‡πà‡∏°‡πÅ‡∏Å‡∏ß‡πà‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ (`jitter`)
- ‡πÇ‡∏´‡∏°‡∏î HARD ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏° (`jitter=0`)

**Near-Win Heuristic:**  
‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ß‡πà‡∏≤ ‡∏ñ‡πâ‡∏≤‡∏•‡∏á‡∏ó‡∏µ‡πà `(r,c)` ‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞ ‚Äú‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÄ‡∏õ‡πá‡∏ô `K-1` ‡πÅ‡∏•‡∏∞‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡∏á 1‚Äù ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà ‚Üí ‡πÉ‡∏ä‡πâ‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Å‡∏≤‡∏£ **‡∏ö‡∏∏‡∏Å** ‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î‡∏ó‡∏µ‡πà‡∏î‡∏∏‡∏î‡∏±‡∏ô

**‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**  
- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà **‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î**  
- ‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô ‚Üí **tie-break ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏Å‡∏•‡πâ‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á**

**‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (‡∏Ñ‡∏£‡πà‡∏≤‡∏ß‡πÜ):**  
‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà ‚Äú‡∏Ñ‡∏£‡∏≠‡∏ö‡∏ä‡πà‡∏≠‡∏á‡∏ô‡∏±‡πâ‡∏ô‚Äù ‡πÉ‡∏ô 4 ‡∏ó‡∏¥‡∏® ‚Üí ‡πÇ‡∏î‡∏¢‡∏£‡∏ß‡∏°‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì `O(N^2 * K)` (K ‡πÄ‡∏•‡πá‡∏Å)

---

### 3) ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢ (‡∏ï‡∏≤‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ö‡∏≠‡∏ó)

‡∏´‡∏•‡∏±‡∏á‡πÑ‡∏î‡πâ 2 ‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£:
- `bestOff` = ‡∏ä‡πà‡∏≠‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏à‡∏≤‡∏Å **probabilistic weighting**
- `blk` = ‡∏ä‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å **soft-block** ‡∏ó‡∏µ‡πà‡∏°‡∏µ ‚Äú‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏à‡∏∏‡∏î‡∏ï‡∏±‡∏î‚Äù ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î

**HARD**
1. ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏à‡∏∏‡∏î‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÄ‡∏î‡πà‡∏ô ‚Üí ‡πÄ‡∏î‡∏¥‡∏ô `bestOff`
2. ‡∏ñ‡πâ‡∏≤‡∏•‡∏á `bestOff` ‡πÅ‡∏•‡πâ‡∏ß ‚Äú‡∏™‡∏£‡πâ‡∏≤‡∏á K-1 ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‚Äù (near-win) ‚Üí ‡πÄ‡∏î‡∏¥‡∏ô `bestOff`
3. ‡∏ñ‡πâ‡∏≤ `blk.count ‚â• 2` ‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ near-win ‚Üí **‡∏Å‡∏±‡∏ô‡∏Å‡πà‡∏≠‡∏ô** (‡πÄ‡∏î‡∏¥‡∏ô `blk`)
4. ‡∏≠‡∏∑‡πà‡∏ô ‡πÜ ‚Üí ‡πÄ‡∏ô‡πâ‡∏ô‡∏ö‡∏∏‡∏Å (`bestOff`)

**NORMAL**
- ‡∏ñ‡πâ‡∏≤ `blk.count ‚â• 2` ‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ near-win ‚Üí **‡∏Å‡∏±‡∏ô‡∏Å‡πà‡∏≠‡∏ô**  
- ‡πÑ‡∏°‡πà‡∏á‡∏±‡πâ‡∏ô ‚Üí ‡∏ö‡∏∏‡∏Å (`bestOff`)

**EASY**
- ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ `blk` ‡πÉ‡∏î ‡πÜ ‚Üí ‡∏Å‡∏±‡∏ô  
- ‡πÑ‡∏°‡πà‡∏á‡∏±‡πâ‡∏ô ‚Üí ‡∏ö‡∏∏‡∏Å (`bestOff`)

---

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏±‡πâ‡∏ô (5√ó5, ‡∏ä‡∏ô‡∏∞ 4)
- ‡∏ñ‡πâ‡∏≤‡∏ù‡∏±‡πà‡∏á‡∏°‡∏ô‡∏∏‡∏©‡∏¢‡πå‡∏°‡∏µ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö `__OO_` ‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ô‡πÉ‡∏ô‡πÅ‡∏ñ‡∏ß (‡∏Ç‡∏µ‡∏î‡∏Ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡∏á) ‚Üí ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö `K=4`, `L=4`, `required=2`  
  ‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏ô‡∏µ‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç ‚Äú2-in-4‚Äù ‚Üí **‡∏ó‡∏∏‡∏Å‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á** ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏∞‡πÑ‡∏î‡πâ‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡∏à‡∏∏‡∏î‡∏ï‡∏±‡∏î  
- ‡∏ñ‡πâ‡∏≤‡∏ä‡πà‡∏≠‡∏á `(2,2)` ‡πÇ‡∏î‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡∏ó‡πÅ‡∏¢‡∏á ‚Äú‡∏ó‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‚Äù ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô 2‚Äì3 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á  
  ‚Üí `blk.count` ‡∏Ç‡∏≠‡∏á `(2,2)` ‡∏™‡∏π‡∏á ‚Üí ‡πÄ‡∏õ‡πá‡∏ô **‡∏à‡∏∏‡∏î‡∏ï‡∏±‡∏î** ‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡∏Å‡∏±‡∏ô‡∏Å‡πà‡∏≠‡∏ô  
- ‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô ‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÅ‡∏ö‡∏ö probabilistic ‡∏à‡∏∞‡πÉ‡∏´‡πâ‡πÅ‡∏ï‡πâ‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏°‡∏≤‡∏Å‡∏Å‡∏±‡∏ö‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏Å‡∏•‡πâ `K-1`, ‡∏Å‡∏±‡∏ô `K-1` ‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ç‡∏≤, ‡πÅ‡∏•‡∏∞‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏Å‡∏•‡∏≤‡∏á

---

### ‡∏™‡∏£‡∏∏‡∏õ‡∏†‡∏≤‡∏û‡πÉ‡∏´‡∏ç‡πà
1. **‡∏•‡∏≠‡∏á‡∏ä‡∏ô‡∏∞‡∏ó‡∏±‡∏ô‡∏ó‡∏µ** ‚Üí ‡∏ñ‡πâ‡∏≤‡πÄ‡∏£‡∏≤‡∏•‡∏á‡πÅ‡∏•‡πâ‡∏ß‡∏ä‡∏ô‡∏∞‡πÄ‡∏•‡∏¢ ‡πÉ‡∏´‡πâ‡∏ä‡∏ô‡∏∞‡∏Å‡πà‡∏≠‡∏ô  
2. **‡∏Å‡∏±‡∏ô‡πÅ‡∏û‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ** ‚Üí ‡∏ñ‡πâ‡∏≤‡πÄ‡∏Ç‡∏≤‡∏•‡∏á‡πÅ‡∏•‡πâ‡∏ß‡∏ä‡∏ô‡∏∞‡πÄ‡∏•‡∏¢ ‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ô‡∏Å‡πà‡∏≠‡∏ô  
3. **‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏™‡∏≠‡∏á‡πÇ‡∏°‡∏î‡∏π‡∏•**  
   - Soft-block: ‡∏´‡∏≤ ‚Äú‡∏à‡∏∏‡∏î‡∏ï‡∏±‡∏î‚Äù ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡∏Å‡∏™‡∏∏‡∏î  
   - Probabilistic weighting: ‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏∏‡∏Å/‡∏£‡∏±‡∏ö + center bonus + near-win + jitter  
4. **‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡∏ï‡∏≤‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö** (HARD/NORMAL/EASY) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏≤‡∏•‡∏≤‡∏ô‡∏ã‡πå ‚Äú‡∏ö‡∏∏‡∏Å vs ‡∏Å‡∏±‡∏ô‚Äù



